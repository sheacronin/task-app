{"version":3,"sources":["i/trash.svg","i/edit.svg","i/submit.svg","components/Overview.js","firebase.js","components/UserInfo.js","i/default-profile-pic.png","App.js","index.js"],"names":["TaskItem","props","handleToggleEditable","state","isEditable","onSubmitTaskEdit","task","setState","handleChange","e","text","target","value","id","this","i","removeTask","className","onClick","src","trashIcon","alt","Component","TaskText","type","onChange","onKeyUp","key","EditButton","submitIcon","editIcon","Overview","tasks","map","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","UserProfilePicture","currentUser","getAuth","photoURL","SignInButton","a","provider","GoogleAuthProvider","signInWithPopup","SignOutButton","signOut","UserInfo","displayName","db","getFirestore","getCurrentUserId","uid","App","useState","setCurrentUser","useEffect","onAuthStateChanged","uniqid","setTask","setTasks","getTasks","tasksQuery","query","collection","onSnapshot","snapshot","items","forEach","doc","push","data","deleteDoc","editedTask","setDoc","htmlFor","prevState","error","console","preventDefault","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1bc463b5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/trash.4c147cdf.svg\";","export default __webpack_public_path__ + \"static/media/edit.7381f347.svg\";","export default __webpack_public_path__ + \"static/media/submit.017d8715.svg\";","import React, { Component } from 'react';\nimport trashIcon from '../i/trash.svg';\nimport editIcon from '../i/edit.svg';\nimport submitIcon from '../i/submit.svg';\n\nconst Overview = (props) => {\n    const { tasks, removeTask, onSubmitTaskEdit } = props;\n\n    return (\n        <div id=\"tasks-container\">\n            <ul>\n                {tasks.map((task, i) => (\n                    <TaskItem\n                        key={task.id}\n                        task={task}\n                        i={i}\n                        removeTask={removeTask}\n                        onSubmitTaskEdit={onSubmitTaskEdit}\n                    />\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nclass TaskItem extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isEditable: false,\n            task: {\n                text: props.task.text,\n                id: props.task.id,\n            },\n        };\n    }\n\n    handleToggleEditable = () => {\n        if (this.state.isEditable) {\n            // If submitting, edit state in App\n            this.props.onSubmitTaskEdit(this.state.task);\n        }\n\n        this.setState({\n            isEditable: !this.state.isEditable,\n        });\n    };\n\n    handleChange = (e) => {\n        this.setState({\n            task: {\n                text: e.target.value,\n                id: this.state.task.id,\n            },\n        });\n    };\n\n    render() {\n        const { task, isEditable } = this.state;\n        const { i, removeTask } = this.props;\n\n        return (\n            <li>\n                <span className=\"task-num\">{i + 1}</span>\n                <TaskText\n                    isEditable={isEditable}\n                    task={task}\n                    handleChange={this.handleChange}\n                    handleToggleEditable={this.handleToggleEditable}\n                />\n                <EditButton\n                    handleToggleEditable={this.handleToggleEditable}\n                    isEditable={isEditable}\n                />\n                <button\n                    className=\"delete-task\"\n                    onClick={() => removeTask(task.id)}\n                >\n                    <img src={trashIcon} alt=\"trash can icon\" />\n                </button>\n            </li>\n        );\n    }\n}\n\nconst TaskText = (props) => {\n    const { isEditable, task, handleChange, handleToggleEditable } = props;\n\n    if (isEditable) {\n        return (\n            <input\n                type=\"text\"\n                value={task.text}\n                onChange={handleChange}\n                onKeyUp={(e) => {\n                    if (e.key === 'Enter') {\n                        handleToggleEditable();\n                    }\n                }}\n            />\n        );\n    } else {\n        return <span className=\"task-text\">{task.text}</span>;\n    }\n};\n\nconst EditButton = (props) => {\n    const { handleToggleEditable, isEditable } = props;\n\n    return (\n        <button className=\"edit-task\" onClick={handleToggleEditable}>\n            <img\n                src={isEditable ? submitIcon : editIcon}\n                alt={isEditable ? 'check mark submit icon' : 'pencil edit icon'}\n            />\n        </button>\n    );\n};\n\nexport default Overview;\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: 'AIzaSyA5Bg4wKCOCrZcyC4kLqyJQG3Q6oqSlOjQ',\n    authDomain: 'task-app-shea.firebaseapp.com',\n    projectId: 'task-app-shea',\n    storageBucket: 'task-app-shea.appspot.com',\n    messagingSenderId: '215990263281',\n    appId: '1:215990263281:web:7cc4aea6ca7b8ff0a5f850',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport default app;\n","import './UserInfo.css';\nimport defaultProfilePic from '../i/default-profile-pic.png';\n// eslint-disable-next-line no-unused-vars\nimport app from '../firebase';\nimport {\n    getAuth,\n    GoogleAuthProvider,\n    signInWithPopup,\n    signOut,\n} from 'firebase/auth';\n\nconst UserInfo = (props) => {\n    const { currentUser } = props;\n\n    function getUserName() {\n        return getAuth().currentUser.displayName;\n    }\n\n    return (\n        <div id=\"user-info\">\n            <UserProfilePicture currentUser={currentUser} />\n            <div>\n                {!!currentUser && <div>{getUserName()}</div>}\n                {!!currentUser ? <SignOutButton /> : <SignInButton />}\n            </div>\n        </div>\n    );\n};\n\nconst UserProfilePicture = (props) => {\n    const { currentUser } = props;\n\n    function getProfilePicUrl() {\n        return getAuth().currentUser.photoURL;\n    }\n\n    if (!!currentUser) {\n        return <img src={getProfilePicUrl()} alt=\"User profile\" />;\n    } else {\n        return <img src={defaultProfilePic} alt=\"User profile\" />;\n    }\n};\n\nconst SignInButton = () => {\n    async function signIn() {\n        var provider = new GoogleAuthProvider();\n        await signInWithPopup(getAuth(), provider);\n    }\n\n    return <button onClick={signIn}>Sign In</button>;\n};\n\nconst SignOutButton = () => {\n    function signOutUser() {\n        signOut(getAuth());\n    }\n\n    return <button onClick={signOutUser}>Sign Out</button>;\n};\n\nexport default UserInfo;\n","export default \"data:image/png;base64,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\"","import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport Overview from './components/Overview';\nimport uniqid from 'uniqid';\nimport UserInfo from './components/UserInfo';\nimport {\n    getFirestore,\n    collection,\n    query,\n    onSnapshot,\n    setDoc,\n    doc,\n    deleteDoc,\n} from 'firebase/firestore';\nimport { getAuth, onAuthStateChanged } from '@firebase/auth';\n\nconst db = getFirestore();\n\nconst getCurrentUserId = () => {\n    return getAuth().currentUser.uid;\n};\n\nconst App = () => {\n    const [currentUser, setCurrentUser] = useState(null);\n\n    useEffect(() => {\n        onAuthStateChanged(getAuth(), setCurrentUser);\n    }, []);\n\n    const [task, setTask] = useState({ text: '', id: uniqid() });\n    const [tasks, setTasks] = useState([]);\n\n    useEffect(() => {\n        if (!!currentUser) {\n            getTasks();\n        }\n    }, [currentUser]);\n\n    const getTasks = () => {\n        const tasksQuery = query(\n            collection(db, `users/${getCurrentUserId()}/tasks`)\n        );\n\n        onSnapshot(tasksQuery, (snapshot) => {\n            const items = [];\n            snapshot.forEach((doc) => items.push(doc.data()));\n            setTasks(items);\n        });\n    };\n\n    const handleChange = (e) => {\n        setTask((prevState) => {\n            return { ...prevState, text: e.target.value };\n        });\n    };\n\n    const onTaskSubmit = (e) => {\n        try {\n            setDoc(doc(db, `users/${getCurrentUserId()}/tasks`, task.id), task);\n        } catch (error) {\n            console.error('Error writing new task to Firebase Database', error);\n        }\n\n        setTask({\n            text: '',\n            id: uniqid(),\n        });\n\n        e.preventDefault();\n    };\n\n    const onSubmitTaskEdit = (editedTask) => {\n        setDoc(\n            doc(db, `users/${getCurrentUserId()}/tasks`, editedTask.id),\n            editedTask\n        );\n    };\n\n    const removeTask = (id) => {\n        deleteDoc(doc(db, `users/${getCurrentUserId()}/tasks`, id));\n    };\n\n    return (\n        <div id=\"app\">\n            <header>\n                <h1>Task List</h1>\n                <UserInfo currentUser={currentUser} />\n            </header>\n            {currentUser ? (\n                <main>\n                    <Overview\n                        tasks={tasks}\n                        removeTask={removeTask}\n                        onSubmitTaskEdit={onSubmitTaskEdit}\n                    />\n                    <form>\n                        <label htmlFor=\"taskInput\">Enter a task:</label>\n                        <input\n                            type=\"text\"\n                            id=\"taskInput\"\n                            value={task.text}\n                            onChange={handleChange}\n                        />\n                        <button type=\"submit\" onClick={onTaskSubmit}>\n                            Add Task\n                        </button>\n                    </form>\n                </main>\n            ) : (\n                <main>Please sign in to add your tasks.</main>\n            )}\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}